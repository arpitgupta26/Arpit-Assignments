/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

apply plugin: 'java'
apply from: 'mytask.gradle'

repositories {
    mavenCentral()
}

sourceSets {
    source {
        main {
            java {
                srcDirs = ["source/main/java","source/main/java2"]
            }
        }
    }
}

jar{
    manifest{
        attributes 'Main-class':'Test'
    }
}

sourceSets {
    source{
        main{
            resources{
                srcDirs=['source/main/resources']
                exclude 'file1.txt'
            }
        }
    }
}

dependencies{
    compile group: 'org.apache.commons', name:'commons-lang3', version:'3.6'
    compile group: 'org.hibernate', name:'hibernate-core', version:'3.6.7.Final'
}

task fatjar(type:Jar){
    manifest{
        attributes 'Main-Class':'Test'
    }
    baseName="fatjar"
    from{
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    with jar
}

